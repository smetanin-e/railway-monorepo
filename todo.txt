pnpm --filter backend start:dev
pnpm --filter frontend dev

~/Web/railway-monorepo/packages/shared$ pnpm run build
Список задач 
1. Создание монорепозитория
2. Создание и подключение базы данных. Установка и настройка Prisma
3. Создание справочников + CRUD + zod схемы
    wagon-type ✅
    wagon-owner ✅
    wagon ✅
    station ✅
    cargo-owner ✅
    cargo✅
    OperationType✅



                             ✅ Создание партии = атомарное событие, в результате которого:
                                    создаётся Batch
                                для каждого выбранного вагона:
                                    создаётся Trip
                                    создаётся первичное WagonState
                                каждый вагон:
                                    не имеет активного состояния до создания
                                    после создания имеет ровно одно активное состояние

4. Создание партии
    Если партия внутренняя, то и вагоны должны быть внутренние и наоборот ✅
    Если партия на выход или вход, учесть станции входа и выхода ✅
    zod валидация полей создания партии

5. Создание операций

6. Параллельные операции

Что я бы добавил позже (НЕ сейчас)
    Не обязательно сразу, но держи в голове:
    BatchStatus (DRAFT / ACTIVE / CLOSED)
    запрет добавления вагонов в CLOSED
    автоматическое endedAt у WagonState при прибытии
    инвариант: Trip.finishedAt ⇒ закрыт последний WagonState


Очень рекомендую дальше:
1️⃣ @ResolveField() для owner/type
2️⃣ N+1 проблема и DataLoader (спокойно, без боли)


остановился на:
    разобраться со схемой создания партии при отсутствии накладной

Уточнить:
        При внутреннем перемещении у нас станции входа и выхода ВНУТРЕННИЕ?
        Обсудить параллельные операции

Добавить:
    В WagonState добавить состояние вагона (годен под погрузку, требует ремонта)
    Вес продукции в WagonState
    Добавить причину (Возможно как элемент справочника)
    Время затраченное на операцию (в десятках)
    Расчет стоимости операции